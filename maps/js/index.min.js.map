{"version":3,"sources":["index.min.js"],"names":["isDefined","element","length","checkPaxs","context","plusBtn","minusBtn","current","parent","find","addClass","removeClass","$","each","idx","item","$this","parseInt","text","paxSelectorAction","isIncrement","label","isNaN","document","ready","body","header","toggleButton","navigation","tourListSlider","bannerSlider","dateRangePicker","dateRangePickerClass","singleDateRangePicker","singleDateRangePickerClass","haveDropdownClass","dropdownResultsClass","haveDropdownsInputs","searchFormClass","searchFormTabsClass","searchFormTabs","flightToggleBtn","paxSelectors","on","$nav","this","parents","toggleClass","promise","done","hasClass","slick","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","infinite","dot","arrows","responsive","breakpoint","settings","options","autoApply","startDate","moment","endDate","add","locale","format","daysOfWeek","monthNames","firstDay","daterangepicker","start","end","console","log","singleDatePicker","dropdown","hide","show","click","e","target","preventDefault","searchFormContent","attr","fromElement","toElement","fromInput","toInput","val","from","to","window","debounce","scrollTop"],"mappings":"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","file":"../../js/index.min.js","sourcesContent":["function isDefined(element) {\r\n    return typeof element !== 'undefined' && element.length > 0;\r\n}\r\n\r\nfunction checkPaxs(context, plusBtn, minusBtn, current) {\r\n    debugger;\r\n    if (context) {\r\n        if (current == 0) {\r\n            context.parent().find(minusBtn).addClass('disabled');\r\n        } else {\r\n            context.parent().find(minusBtn).removeClass('disabled');\r\n        }\r\n    } else {\r\n        $(minusBtn).each(function(idx, item) {\r\n            $this = $(item);\r\n            var cur = parseInt($this.parent().find('>p').text(), 10);\r\n            if (cur == 0) {\r\n                $this.addClass('disabled');\r\n            } else {\r\n                $this.removeClass('disabled');\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nfunction paxSelectorAction(context, plusBtn, minusBtn, isIncrement, label) {\r\n    var current = parseInt(label.text(), 10);\r\n    if (!isNaN(current)) {\r\n        if (isIncrement) {\r\n            current += 1;\r\n        } else if (!isIncrement && current > 0) {\r\n            current -= 1;\r\n        }\r\n        label.text(current);\r\n    }\r\n\r\n    checkPaxs(context, plusBtn, minusBtn, current);\r\n}\r\n\r\n$(document).ready(function() {\r\n\r\n    var body = $('body');\r\n    var header = $('.tcd__header');\r\n    var toggleButton = header.find('.navbar-toggler');\r\n    var navigation = header.find('.tcd__header-navigation');\r\n\r\n    var tourList = $('.tcd__tour-list');\r\n    var tourListSlider = tourList.find('.tcd__tour-list-slider'); \r\n\r\n    var banner = $('.tcd__banner');\r\n    var bannerSlider = banner.find('.tcd__banner-slider');\r\n\r\n    var dateRangePickerClass = '.daterange-picker';\r\n    var dateRangePicker = $(dateRangePickerClass + ' .form-control');\r\n\r\n    var singleDateRangePickerClass = '.single-daterange-picker';\r\n    var singleDateRangePicker = $(singleDateRangePickerClass + ' .form-control');\r\n\r\n    var haveDropdownClass = '.have-dropdown';\r\n    var dropdownResultsClass = '.tcd__search-form-dropdown-results';\r\n    var haveDropdowns = $(haveDropdownClass);\r\n    var haveDropdownsInputs = haveDropdowns.find('.form-group .form-control');\r\n\r\n    var searchFormClass = '.tcd__search-form';\r\n    var searchFormTabsClass = '.tcd__search-form-tab';\r\n    var searchFormContents = '.tcd__search-form-tab-content';\r\n    var searchForm = $(searchFormClass);\r\n    var searchFormTabs = searchForm.find(searchFormTabsClass);\r\n\r\n    // Toggle flight from <-> to\r\n    var flightToggleBtnClass = '.btn-toggle-flight';\r\n    var flightToggleBtn = $(flightToggleBtnClass);\r\n\r\n    // pax selectors\r\n    var paxSelectorsClass = '.tcd__search-form-pax';\r\n    var paxSelectors = $(paxSelectorsClass);\r\n\r\n    // Toggle Menu\r\n    if (isDefined(toggleButton)) toggleButton.on('click', function() {\r\n        var $this = $(this);\r\n        var $nav = $this.parents(header).find(navigation);\r\n\r\n        if (isDefined($nav)) $nav.toggleClass('active').promise().done(function() {\r\n            var isOpened = $(this).hasClass('active');\r\n\r\n            if (isOpened) body.addClass('modal-open')\r\n            else body.removeClass('modal-open')\r\n        });\r\n    });\r\n\r\n    // Tour list slider\r\n    if (isDefined(tourListSlider)) {\r\n        tourListSlider.slick({\r\n            slidesToShow: 3,\r\n            slidesToScroll: 1,\r\n            autoplay: true,\r\n            autoplaySpeed: 5000,\r\n            infinite: true,\r\n            dot: false,\r\n            arrows: true,\r\n            responsive: [\r\n                {\r\n                  breakpoint: 1200,\r\n                  settings: {\r\n                    slidesToShow: 2\r\n                  }\r\n                },\r\n                {\r\n                  breakpoint: 768,\r\n                  settings: {\r\n                    slidesToShow: 1\r\n                  }\r\n                }\r\n              ]\r\n        }).promise().done(function() {\r\n            $(this).removeClass('initializing');\r\n        });\r\n    }\r\n\r\n    if (isDefined(tourListSlider)) {\r\n        bannerSlider.slick({\r\n            slidesToShow: 1,\r\n            slidesToScroll: 1,\r\n            autoplay: true,\r\n            autoplaySpeed: 5000,\r\n            infinite: true,\r\n            dot: false,\r\n            arrows: true,\r\n        }).promise().done(function() {\r\n            $(this).removeClass('initializing');\r\n        });\r\n    }\r\n\r\n    // Date range picker\r\n    if (isDefined(dateRangePicker)) {\r\n        var options = {\r\n            \"autoApply\": true,\r\n            \"startDate\": moment(),\r\n            \"endDate\": moment().add(2, 'd'),\r\n            locale: {\r\n                format: 'DD/MM/YYYY',\r\n                \"daysOfWeek\": [\r\n                    \"CN\",\r\n                    \"T2\",\r\n                    \"T3\",\r\n                    \"T4\",\r\n                    \"T5\",\r\n                    \"T6\",\r\n                    \"T7\"\r\n                ],\r\n                \"monthNames\": [\r\n                    \"Th01\",\r\n                    \"Th02\",\r\n                    \"Th03\",\r\n                    \"Th04\",\r\n                    \"Th05\",\r\n                    \"Th06\",\r\n                    \"Th07\",\r\n                    \"Th08\",\r\n                    \"Th09\",\r\n                    \"Th10\",\r\n                    \"th11\",\r\n                    \"Th12\"\r\n                ],\r\n                \"firstDay\": 1\r\n            }\r\n        }\r\n        \r\n        dateRangePicker.daterangepicker(options, function(start, end, label) {\r\n            console.log('New date range selected: ' + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD') + ' (predefined range: ' + label + ')');\r\n        });\r\n    }\r\n\r\n    if (isDefined(singleDateRangePicker)) {\r\n        var options = {\r\n            \"autoApply\": true,\r\n            \"startDate\": moment(),\r\n            \"endDate\": moment().add(2, 'd'),\r\n            \"singleDatePicker\": true,\r\n            locale: {\r\n                format: 'DD/MM/YYYY',\r\n                \"daysOfWeek\": [\r\n                    \"CN\",\r\n                    \"T2\",\r\n                    \"T3\",\r\n                    \"T4\",\r\n                    \"T5\",\r\n                    \"T6\",\r\n                    \"T7\"\r\n                ],\r\n                \"monthNames\": [\r\n                    \"Th01\",\r\n                    \"Th02\",\r\n                    \"Th03\",\r\n                    \"Th04\",\r\n                    \"Th05\",\r\n                    \"Th06\",\r\n                    \"Th07\",\r\n                    \"Th08\",\r\n                    \"Th09\",\r\n                    \"Th10\",\r\n                    \"th11\",\r\n                    \"Th12\"\r\n                ],\r\n                \"firstDay\": 1\r\n            }\r\n        }\r\n        \r\n        singleDateRangePicker.daterangepicker(options, function(start, end, label) {\r\n            console.log('New date range selected: ' + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD') + ' (predefined range: ' + label + ')');\r\n        });\r\n    }\r\n\r\n    // Dropdown results\r\n    if (isDefined(haveDropdownsInputs)) {\r\n        haveDropdownsInputs.on('focus', function() {\r\n            var $this = $(this);\r\n            var dropdown = $this.parents(haveDropdownClass).find(dropdownResultsClass);\r\n\r\n            $(dropdownResultsClass).hide();\r\n            if (isDefined(dropdown)) dropdown.show();\r\n        });\r\n\r\n        $(document).click(function(e) {\r\n            var target = $(e.target);\r\n\r\n            if (!isDefined(target.parents(haveDropdownClass))) {\r\n                $(dropdownResultsClass).hide();\r\n            }\r\n        });\r\n    }\r\n\r\n    // Search form tabs\r\n    if (isDefined(searchFormTabs)) {\r\n        searchFormTabs.on('click', function(e) {\r\n            e.preventDefault();\r\n            var $this = $(this);\r\n            var searchFormContent = $this.parents(searchFormClass).find($this.attr('href'));\r\n\r\n            $(searchFormTabsClass).removeClass('active')\r\n            $this.addClass('active');\r\n\r\n            if (isDefined(searchFormContent)) {\r\n                $(searchFormContents).hide();\r\n                searchFormContent.show();\r\n            }\r\n\r\n            return false;\r\n        });\r\n    }\r\n\r\n    // Flight toggle from <-> to\r\n    if (isDefined(flightToggleBtn)) {\r\n        flightToggleBtn.on('click', function(e) {\r\n            e.preventDefault;\r\n            var $this = $(this);\r\n            var fromElement = $($this.attr('data-from-element'));\r\n            var toElement = $($this.attr('data-to-element'));\r\n\r\n            if (isDefined(fromElement) && isDefined(toElement)) {\r\n                var fromInput = fromElement.find('.form-control');\r\n                var toInput = toElement.find('.form-control');\r\n                var val = {\r\n                    from: fromInput.val(),\r\n                    to: toInput.val()\r\n                }\r\n\r\n                if (isDefined(fromInput) && isDefined(toInput)) {\r\n                    fromInput.val(val.to);\r\n                    toInput.val(val.from);\r\n                }\r\n            }\r\n\r\n            return false;\r\n        })\r\n    }\r\n\r\n    // pax selectors\r\n    if (isDefined(paxSelectors)) {\r\n        var plusBtn = paxSelectors.find('.plus');\r\n        var minusBtn = paxSelectors.find('.minus');\r\n\r\n        if (isDefined(plusBtn) && isDefined(minusBtn)) {\r\n            checkPaxs(null, '.plus', '.minus', 0);\r\n            plusBtn.on('click', function() {\r\n                var $this = $(this);\r\n                var val = $this.parent().find('> p');\r\n                paxSelectorAction($this, '.plus', '.minus', true, val);\r\n            });\r\n\r\n            minusBtn.on('click', function() {\r\n                var $this = $(this);\r\n                var val = $this.parent().find('> p');\r\n                paxSelectorAction($this, '.plus', '.minus', false, val);\r\n            });\r\n        }\r\n    }\r\n\r\n    // Header scrolling\r\n    if (isDefined(header)) {\r\n        $(window).on('scroll orientationchange', $.debounce(5, function() {\r\n            var $this = $(this);\r\n            var scrollTop = $(window).scrollTop();\r\n            var fixedHeight = 150;\r\n            if (scrollTop > fixedHeight) {\r\n                header.addClass('scroll-down');\r\n            } else {\r\n                header.removeClass('scroll-down');\r\n            }\r\n        }));\r\n    }\r\n});"]}