{"version":3,"sources":["utils.min.js"],"names":["isDefined","element","length","checkPaxs","context","plusBtn","minusBtn","current","parent","find","addClass","removeClass","$","each","idx","item","$this","parseInt","text","paxSelectorAction","isIncrement","label","isNaN","map","lineSymbol","path","google","maps","SymbolPath","CIRCLE","scale","strokeColor","coords","lat","lng","startIcon","url","scaledSize","Size","origin","Point","anchor","icon","moveMarker","marker","lon","autoRefresh","route","Polyline","icons","offset","geodesic","strokeOpacity","strokeWeight","editable","Marker","i","getPath","push","LatLng","animateCircle","getLength","title","getAt","position","setMap","line","count","window","setInterval","get","set","getCenterPoint","avgLat","avgLng","advSlider","slick","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","infinite","dot","arrows","promise","done","this","initMap","mapId","zoom","event","addDomListener","mark","Map","document","getElementById","center","mapTypeId","MapTypeId","ROADMAP","styles","featureType","elementType","stylers","color","visibility","weight"],"mappings":"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","file":"../../js/utils.min.js","sourcesContent":["function isDefined(element) {\r\n    return typeof element !== 'undefined' && element.length > 0;\r\n}\r\n\r\nfunction checkPaxs(context, plusBtn, minusBtn, current) {\r\n    debugger;\r\n    if (context) {\r\n        if (current == 0) {\r\n            context.parent().find(minusBtn).addClass('disabled');\r\n        } else {\r\n            context.parent().find(minusBtn).removeClass('disabled');\r\n        }\r\n    } else {\r\n        $(minusBtn).each(function (idx, item) {\r\n            $this = $(item);\r\n            var cur = parseInt($this.parent().find('>p').text(), 10);\r\n            if (cur == 0) {\r\n                $this.addClass('disabled');\r\n            } else {\r\n                $this.removeClass('disabled');\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nfunction paxSelectorAction(context, plusBtn, minusBtn, isIncrement, label) {\r\n    var current = parseInt(label.text(), 10);\r\n    if (!isNaN(current)) {\r\n        if (isIncrement) {\r\n            current += 1;\r\n        } else if (!isIncrement && current > 0) {\r\n            current -= 1;\r\n        }\r\n        label.text(current);\r\n    }\r\n\r\n    checkPaxs(context, plusBtn, minusBtn, current);\r\n}\r\n\r\nvar map;\r\nvar lineSymbol = {\r\n    path: google.maps.SymbolPath.CIRCLE,\r\n    scale: 4,\r\n    strokeColor: '#393'\r\n};\r\n\r\nvar coords = [{\r\n        \"lat\": 8.893260000000001,\r\n        \"lng\": 76.61427\r\n    },\r\n    {\r\n        \"lat\": 8.691880000000001,\r\n        \"lng\": 77.82178\r\n    },\r\n    {\r\n        \"lat\": 8.535070000000001,\r\n        \"lng\": 76.92738\r\n    },\r\n    {\r\n        \"lat\": 7.535070000000001,\r\n        \"lng\": 75.92738\r\n    },\r\n    {\r\n        \"lat\": 8.893260000000001,\r\n        \"lng\": 76.61427\r\n    }\r\n];\r\nvar startIcon = {\r\n    url: \"img/map/start.png\",\r\n    scaledSize: new google.maps.Size(15, 15), // scaled size\r\n    origin: new google.maps.Point(0,0), // origin\r\n    anchor: new google.maps.Point(7, 7) // anchor\r\n};\r\n\r\nvar icon = {\r\n    url: \"img/map/marker.png\",\r\n    scaledSize: new google.maps.Size(15, 15), // scaled size\r\n    origin: new google.maps.Point(0,0), // origin\r\n    anchor: new google.maps.Point(7, 7) // anchor\r\n};\r\n\r\nfunction moveMarker(map, marker, lat, lon) {\r\n    //marker.setPosition(new google.maps.LatLng(lat, lon));\r\n    //map.panTo(new google.maps.LatLng(lat, lon));\r\n}\r\n\r\nfunction autoRefresh() {\r\n    var i, route, marker;\r\n\r\n    route = new google.maps.Polyline({\r\n        path: [],\r\n        icons: [{\r\n            icon: lineSymbol,\r\n            offset: '100%'\r\n        }],\r\n        geodesic: true,\r\n        strokeColor: '#409cd1',\r\n        strokeOpacity: 1.0,\r\n        strokeWeight: 3,\r\n        editable: false,\r\n        map: map\r\n    });\r\n\r\n    marker = new google.maps.Marker({\r\n        map: map,\r\n        icon: icon\r\n    });\r\n\r\n    for (i = 0; i < coords.length; i++) {\r\n        route.getPath().push(new google.maps.LatLng(coords[i].lat, coords[i].lng));\r\n    }\r\n    animateCircle(route);\r\n\r\n    for (var i = 0; i < route.getPath().getLength(); i++) {\r\n        var marker = new google.maps.Marker({\r\n            title: route.getPath().getAt(i),\r\n            position: route.getPath().getAt(i),\r\n            map: map,\r\n            icon: (i == 0 || i == coords.length - 1) ? startIcon : icon\r\n        });\r\n    }\r\n    route.setMap(map);\r\n}\r\n\r\nfunction animateCircle(line) {\r\n    var count = 0;\r\n    var animated = window.setInterval(function () {\r\n        // if (count > 198) {\r\n        //     window.clearInterval(animated);\r\n        //     var icons = line.get('icons');\r\n        //     icons[0].offset = '100%';\r\n        //     line.set('icons', icons);\r\n        //     return;\r\n        // }\r\n        count = (count + 1) % 200;\r\n\r\n        var icons = line.get('icons');\r\n        icons[0].offset = (count / 2) + '%';\r\n        line.set('icons', icons);\r\n\r\n    }, 30);\r\n}\r\n\r\nfunction getCenterPoint() {\r\n    var avgLat = 0;\r\n    var avgLng = 0;\r\n\r\n    for (var i = 0; i < coords.length; i++) {\r\n        avgLat += coords[i].lat;\r\n        avgLng += coords[i].lng;\r\n    }\r\n\r\n    avgLat /= coords.length;\r\n    avgLng /= coords.length;\r\n\r\n    return {\r\n        lat: avgLat,\r\n        lng: avgLng\r\n    }\r\n}\r\n\r\nfunction advSlider(element) {\r\n    if (isDefined(element)) {\r\n        element.slick({\r\n            slidesToShow: 1,\r\n            slidesToScroll: 1,\r\n            autoplay: true,\r\n            autoplaySpeed: 5000,\r\n            infinite: true,\r\n            dot: false,\r\n            arrows: false,\r\n        }).promise().done(function () {\r\n            $(this).removeClass('initializing');\r\n        });\r\n    }\r\n}\r\n\r\nfunction initMap(mapId, zoom) {\r\n    google.maps.event.addDomListener(window, 'load', function() {\r\n        var mark = getCenterPoint();\r\n        map = new google.maps.Map(document.getElementById(mapId), {\r\n            center: new google.maps.LatLng(mark.lat, mark.lng),\r\n            zoom: zoom,\r\n            mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n            styles: [{\r\n                    \"featureType\": \"water\",\r\n                    \"elementType\": \"geometry.fill\",\r\n                    \"stylers\": [{\r\n                        \"color\": \"#d3d3d3\"\r\n                    }]\r\n                },\r\n                {\r\n                    \"featureType\": \"transit\",\r\n                    \"stylers\": [{\r\n                            \"color\": \"#808080\"\r\n                        },\r\n                        {\r\n                            \"visibility\": \"off\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"featureType\": \"road.highway\",\r\n                    \"elementType\": \"geometry.stroke\",\r\n                    \"stylers\": [{\r\n                            \"visibility\": \"on\"\r\n                        },\r\n                        {\r\n                            \"color\": \"#b3b3b3\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"featureType\": \"road.highway\",\r\n                    \"elementType\": \"geometry.fill\",\r\n                    \"stylers\": [{\r\n                        \"color\": \"#ffffff\"\r\n                    }]\r\n                },\r\n                {\r\n                    \"featureType\": \"road.local\",\r\n                    \"elementType\": \"geometry.fill\",\r\n                    \"stylers\": [{\r\n                            \"visibility\": \"on\"\r\n                        },\r\n                        {\r\n                            \"color\": \"#ffffff\"\r\n                        },\r\n                        {\r\n                            \"weight\": 1.8\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"featureType\": \"road.local\",\r\n                    \"elementType\": \"geometry.stroke\",\r\n                    \"stylers\": [{\r\n                        \"color\": \"#d7d7d7\"\r\n                    }]\r\n                },\r\n                {\r\n                    \"featureType\": \"poi\",\r\n                    \"elementType\": \"geometry.fill\",\r\n                    \"stylers\": [{\r\n                            \"visibility\": \"on\"\r\n                        },\r\n                        {\r\n                            \"color\": \"#ebebeb\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"featureType\": \"administrative\",\r\n                    \"elementType\": \"geometry\",\r\n                    \"stylers\": [{\r\n                        \"color\": \"#a7a7a7\"\r\n                    }]\r\n                },\r\n                {\r\n                    \"featureType\": \"road.arterial\",\r\n                    \"elementType\": \"geometry.fill\",\r\n                    \"stylers\": [{\r\n                        \"color\": \"#ffffff\"\r\n                    }]\r\n                },\r\n                {\r\n                    \"featureType\": \"road.arterial\",\r\n                    \"elementType\": \"geometry.fill\",\r\n                    \"stylers\": [{\r\n                        \"color\": \"#ffffff\"\r\n                    }]\r\n                },\r\n                {\r\n                    \"featureType\": \"landscape\",\r\n                    \"elementType\": \"geometry.fill\",\r\n                    \"stylers\": [{\r\n                            \"visibility\": \"on\"\r\n                        },\r\n                        {\r\n                            \"color\": \"#efefef\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"featureType\": \"road\",\r\n                    \"elementType\": \"labels.text.fill\",\r\n                    \"stylers\": [{\r\n                        \"color\": \"#696969\"\r\n                    }]\r\n                },\r\n                {\r\n                    \"featureType\": \"administrative\",\r\n                    \"elementType\": \"labels.text.fill\",\r\n                    \"stylers\": [{\r\n                            \"visibility\": \"on\"\r\n                        },\r\n                        {\r\n                            \"color\": \"#737373\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"featureType\": \"poi\",\r\n                    \"elementType\": \"labels.icon\",\r\n                    \"stylers\": [{\r\n                        \"visibility\": \"off\"\r\n                    }]\r\n                },\r\n                {\r\n                    \"featureType\": \"poi\",\r\n                    \"elementType\": \"labels\",\r\n                    \"stylers\": [{\r\n                        \"visibility\": \"off\"\r\n                    }]\r\n                },\r\n                {\r\n                    \"featureType\": \"road.arterial\",\r\n                    \"elementType\": \"geometry.stroke\",\r\n                    \"stylers\": [{\r\n                        \"color\": \"#d6d6d6\"\r\n                    }]\r\n                },\r\n                {\r\n                    \"featureType\": \"road\",\r\n                    \"elementType\": \"labels.icon\",\r\n                    \"stylers\": [{\r\n                        \"visibility\": \"off\"\r\n                    }]\r\n                },\r\n                {\r\n\r\n                },\r\n                {\r\n                    \"featureType\": \"poi\",\r\n                    \"elementType\": \"geometry.fill\",\r\n                    \"stylers\": [{\r\n                        \"color\": \"#dadada\"\r\n                    }]\r\n                }\r\n            ]\r\n        });\r\n\r\n        autoRefresh();\r\n    });\r\n}"]}